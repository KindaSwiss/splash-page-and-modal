

	
#modal-overlay
	background-color: rgba($yellow, .9)
	perspective: 1000px
	z-index: 2
	+position(absolute, 0)
	+transition(opacity .7s)





// Fade in the overlay in and slide/flip the modal down 
.modal-overlay
	&[aria-hidden='false']
		opacity: 1
		.modal
			top: 150px
			+transform(rotateX(0deg))
			transform-style: preserve-3d
			transform-origin: center
	&[aria-hidden='true']
		opacity: 0
		pointer-events: none




.modal
	z-index: 3
	outline: 0
	+container(35em center)
	+padding(null 16px)
	+position(relative, 0px null null null)
	// For the slide/flip transition
	+transition(top .7s, transform .7s)
	+transform(rotateX(-50deg))


.modal__wrapper
	background-color: white
	box-shadow: 0px 12px 16px rgba(0, 0, 0, .3)
	+position(relative)


.modal__close
	$font-size: 1.5rem
	$top: ($font-size * -1) - .3
	$right: $top
	background: transparent
	border: 0
	outline: 0
	cursor: pointer
	font-size: $font-size
	+clearfix
	+position(absolute, $top $right null null)
	+transition(right .5s, box-shadow .3s)
	&:focus
		box-shadow: 0 0 0 3px rgba(black, 1)

.modal__content
	$margin: 30px
	height: 100%
	+padding($margin)
	.modal__header
		font-weight: 600
		font-size: 1.3rem
		margin-bottom: $margin 
		max-width: 45%

	.modal__description
		color: lighten(black, 40)
		font-weight: 300
		font-size: .95rem
		margin-bottom: $margin
		max-width: 60%


.modal__form
	background-color: black
	+clearfix
	+padding(20px)

	input, button
		display: inline-block
		+padding(12px 30px)
		+transition(box-shadow .17s ease-in)

	input
		max-width: 72.5%
		display: inline-block
		&:focus
			box-shadow: 0 0 0 2px black, 0 0 0 4px $yellow
			outline: 0
		
	button
		float: right
		+no-select
		&:active, &:focus
			box-shadow: 0 0 0 2px black, 0 0 0 4px $yellow
			outline: 0





#modal--subscribe .modal__container
	background:
		image: url('../images/presentation.png')
		position: 140% 60%
		size: 57%
		repeat: no-repeat









@media screen and (max-width: 650px)
	// Move the close button to the top of the modal 
	.modal__close
		+position(null, (1.5rem * -1) - .5 0px null null)

@media screen and (max-width: 650px)
	// Put the input and button on separate lines 
	.modal__form
		max-width: 100%
		input
			max-width: 100%
			display: block
		button
			float: right
			margin-top: 20px
			


@media screen and (max-width: 400px)
	.modal__form
		button
			float: none
			width: 100%


@media screen and (max-width: 571px)

	// Make the header and description full width 
	.modal__content
		.modal__description, 
		.modal__header
			max-width: 100%

	// Remove the background image 
	#modal--subscribe .modal__container
		background-image: none



// Move the modal to the top or else the modal will 
// go outside of the overlay, causing the overlay to not 
// cover all of the background 
@media screen and (orientation: portrait) and (max-width: 400px), screen and (orientation: landscape) and (max-width: 600px)
	.modal
		top: 50px !important



